# Telegram бот-навигатор по колледжу

Telegram бот с SQLite базой данных для отслеживания пользователей и функционалом рассылки сообщений.

## Возможности

- ✅ Отслеживание всех пользователей в SQLite базе данных
- ✅ Красивое оформление сообщений с эмодзи и форматированием
- ✅ Команда рассылки для администраторов
- ✅ Статистика пользователей
- ✅ Интеграция с веб-приложением навигатора

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Настройте бота:
   - Откройте `main.py`
   - Добавьте ID администраторов в переменную `ADMIN_IDS` (строка 14)
   - Пример: `ADMIN_IDS = [123456789, 987654321]`

## Запуск

```bash
python main.py
```

## Команды бота

### Для всех пользователей:
- `/start` - Главное меню и приветствие
- `/help` - Справка по использованию бота

### Только для администраторов:
- `/stats` - Статистика пользователей бота
- `/broadcast` - Информация о рассылке
- `/broadcast_send <текст>` - Отправить рассылку всем пользователям

Пример рассылки:
```
/broadcast_send Привет! Это важное сообщение для всех пользователей.
```

## База данных

Бот автоматически создает файл `bot_database.db` с двумя таблицами:

1. **users** - хранит информацию о всех пользователях:
   - user_id (ID пользователя Telegram)
   - username
   - first_name
   - last_name
   - registered_at (дата регистрации)
   - last_activity (последняя активность)

2. **admins** - хранит список администраторов (опционально)

## Как получить свой ID в Telegram

Чтобы узнать свой ID для добавления в админы:
1. Напишите боту @userinfobot
2. Он покажет ваш user_id

## Структура проекта

```
fechack/
├── main.py              # Основной файл бота
├── requirements.txt      # Зависимости
├── bot_database.db      # База данных (создается автоматически)
├── index.html           # Веб-приложение навигатора
└── floors_routes.json   # Данные о кабинетах
```

## Примечания

- База данных создается автоматически при первом запуске
- Все пользователи автоматически добавляются в БД при команде /start
- Рассылка работает с небольшой задержкой между сообщениями (0.05 сек), чтобы не превысить лимиты Telegram
- Для более продвинутой рассылки рекомендуется использовать FSM (Finite State Machine) из aiogram

